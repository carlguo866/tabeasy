{% extends "base.html" %}
{% load static %}
{% load mytags %}

{% block content %}


	<div class="container-md">
		<table class="table table-striped table-bordered">
			<thead class="table-light">
				<tr>
					<th scope="col">Judge Name</th>
					<th scope="col">Preside</th>
					<th colspan="4" scope="colgroup">Availability</th>
					<th scope="col">Conflicts</th>
					<th scope="col">Edit</th>
					<th scope="col">Delete</th>
				</tr>
				<tr>
					<th scope="col"></th>
					<th scope="col"></th>
					<th scope="col">Round 1</th>
					<th scope="col">Round 2</th>
					<th scope="col">Round 3</th>
					<th scope="col">Round 4</th>
					<th scope="col"></th>
					<th scope="col"></th>
					<th scope="col"></th>
				</tr>
			</thead>
			<tbody>
				{% for judge in judges %}
					<tr>
						<th scope="row">{{ judge }}</th>
						<td>
								{% if judge.preside == 2%}
									Can if needed
								{% elif judge.preside == 1 %}
									Yes
								{% else %}
									No
								{% endif %}
						</td>
						<td>
							{% if judge.available_round1 %}
								<i class="fa-solid fa-check mx-1"></i>
							{% else %}
								<i class="fa-solid fa-xmark mx-1"></i>
							{% endif %}
						</td>
						<td>
							{% if judge.available_round2 %}
								<i class="fa-solid fa-check mx-1"></i>
							{% else %}
								<i class="fa-solid fa-xmark mx-1"></i>
							{% endif %}
						</td>
						<td>
							{% if judge.available_round3 %}
								<i class="fa-solid fa-check mx-1"></i>
							{% else %}
								<i class="fa-solid fa-xmark mx-1"></i>
							{% endif %}
						</td>
						<td>
							{% if judge.available_round4 %}
								<i class="fa-solid fa-check mx-1"></i>
							{% else %}
								<i class="fa-solid fa-xmark mx-1"></i>
							{% endif %}
						</td>
						<td>
						{% if judge.conflicts.all %}
							{% for team in judge.conflicts.all %}
								{{ team }}{% if not forloop.last %},{% endif %}
							{% endfor %}
						{% else %}
							None
						{% endif %}
						</td>
						<td>
								<div class="m-2">
									<a class="button button-primary py-2" href="{% url 'tourney:view_individual_judge' judge.pk %}">
										Edit
									</a>
								</div>
						</td>
						<td>
								<div class="m-2">
									<a class="button button-primary py-2" href="{% url 'tourney:delete_individual_judge' judge.pk %}"
									onclick="return confirm('Are you sure you want to delete Judge {{ judge }}?');">
											Delete
									</a>
								</div>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<a href="{% url 'load_judges' %}">
			<button type="button" class="button button-primary m-2">
				Load Judges from Excel
			</button>
		</a>
		<a href="{% url 'accounts:judge_signup' %}">
			<button type="button" class="button button-primary m-2">
				Add Judge
			</button>
		</a>
	</div>



{% endblock content %}